{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = [\"onClick\"];\nconst _hoisted_3 = {\n  class: \"row\"\n};\nconst _hoisted_4 = {\n  class: \"left\"\n};\nconst _hoisted_5 = {\n  class: \"title\"\n};\nconst _hoisted_6 = {\n  class: \"kv\"\n};\nconst _hoisted_7 = {\n  class: \"kv\"\n};\nconst _hoisted_8 = {\n  class: \"kv\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.history, h => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"card\",\n      key: h.id,\n      onClick: $event => $options.open(h),\n      style: {\n        \"cursor\": \"pointer\"\n      }\n    }, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, _toDisplayString(h.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"span\", null, \"时间：\" + _toDisplayString($options.formatTime(h.play_time)), 1 /* TEXT */), _createElementVNode(\"span\", null, \" 大小(MB):\" + _toDisplayString(h.file_size), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"span\", null, \"播放进度%：\" + _toDisplayString(h.playback_progress), 1 /* TEXT */), _createElementVNode(\"span\", null, \" 缓存存在：\" + _toDisplayString(h.cache_exists ? '是' : '否'), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"span\", null, \"平均下行(MB/s): \" + _toDisplayString(h.avg_download_speed), 1 /* TEXT */)])])])], 8 /* PROPS */, _hoisted_2);\n  }), 128 /* KEYED_FRAGMENT */))]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_Fragment","_renderList","$data","history","h","key","id","onClick","$event","$options","open","style","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","title","_hoisted_6","formatTime","play_time","file_size","_hoisted_7","playback_progress","cache_exists","_hoisted_8","avg_download_speed"],"sources":["/home/cracken/project/p2p-video-accelerator/viewer/p2p-video-viewer/frontend/src/views/HistoryPage.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"card\" v-for=\"h in history\" :key=\"h.id\" @click=\"open(h)\" style=\"cursor:pointer;\">\n      <div class=\"row\">\n        <div class=\"left\">\n          <div class=\"title\">{{ h.title }}</div>\n          <div class=\"kv\">\n            <span>时间：{{ formatTime(h.play_time) }}</span>\n            <span>  大小(MB):{{ h.file_size }}</span>\n          </div>\n          <div class=\"kv\">\n            <span>播放进度%：{{ h.playback_progress }}</span>\n            <span>  缓存存在：{{ h.cache_exists ? '是' : '否' }}</span>\n          </div>\n          <div class=\"kv\">\n            <span>平均下行(MB/s): {{ h.avg_download_speed }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { listHistory } from '@/services/historyApi'\nexport default {\n  name: 'HistoryPage',\n  data(){ return { history: [] } },\n  async mounted(){ this.history = await listHistory() },\n  methods: {\n    formatTime(ts){ const d = new Date(ts); const pad = n => String(n).padStart(2, '0'); return `${d.getFullYear()}/${pad(d.getMonth()+1)}/${pad(d.getDate())} ${pad(d.getHours())}:${pad(d.getMinutes())}` },\n    open(h){ this.$router.push({ path: '/video', query: { rid: h.rid } }) }\n  }\n}\n</script>\n\n<style scoped>\n.row { display: flex; justify-content: space-between; }\n.left { display: flex; flex-direction: column; gap: 6px; }\n.title { font-weight: bold; font-size: 16px; }\n.kv { color: #555; }\n.kv span + span { margin-left: 16px; }\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAW;;;EAEbA,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAO;;EACbA,KAAK,EAAC;AAAI;;EAIVA,KAAK,EAAC;AAAI;;EAIVA,KAAK,EAAC;AAAI;;uBAbvBC,mBAAA,CAmBM,OAnBNC,UAmBM,I,kBAlBJD,mBAAA,CAiBME,SAAA,QAAAC,WAAA,CAjBwBC,KAAA,CAAAC,OAAO,EAAZC,CAAC;yBAA1BN,mBAAA,CAiBM;MAjBDD,KAAK,EAAC,MAAM;MAAuBQ,GAAG,EAAED,CAAC,CAACE,EAAE;MAAGC,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,IAAI,CAACN,CAAC;MAAGO,KAAuB,EAAvB;QAAA;MAAA;QAClEC,mBAAA,CAeM,OAfNC,UAeM,GAdJD,mBAAA,CAaM,OAbNE,UAaM,GAZJF,mBAAA,CAAsC,OAAtCG,UAAsC,EAAAC,gBAAA,CAAhBZ,CAAC,CAACa,KAAK,kBAC7BL,mBAAA,CAGM,OAHNM,UAGM,GAFJN,mBAAA,CAA6C,cAAvC,KAAG,GAAAI,gBAAA,CAAGP,QAAA,CAAAU,UAAU,CAACf,CAAC,CAACgB,SAAS,mBAClCR,mBAAA,CAAuC,cAAjC,UAAS,GAAAI,gBAAA,CAAGZ,CAAC,CAACiB,SAAS,iB,GAE/BT,mBAAA,CAGM,OAHNU,UAGM,GAFJV,mBAAA,CAA4C,cAAtC,QAAM,GAAAI,gBAAA,CAAGZ,CAAC,CAACmB,iBAAiB,kBAClCX,mBAAA,CAAoD,cAA9C,QAAO,GAAAI,gBAAA,CAAGZ,CAAC,CAACoB,YAAY,6B,GAEhCZ,mBAAA,CAEM,OAFNa,UAEM,GADJb,mBAAA,CAAmD,cAA7C,cAAY,GAAAI,gBAAA,CAAGZ,CAAC,CAACsB,kBAAkB,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}