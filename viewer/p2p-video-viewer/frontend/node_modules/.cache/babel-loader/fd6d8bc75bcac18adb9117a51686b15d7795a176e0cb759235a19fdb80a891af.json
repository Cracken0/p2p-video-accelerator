{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"card\"\n};\nconst _hoisted_3 = {\n  class: \"row\"\n};\nconst _hoisted_4 = {\n  class: \"row\"\n};\nconst _hoisted_5 = {\n  class: \"row\"\n};\nconst _hoisted_6 = {\n  class: \"row\"\n};\nconst _hoisted_7 = {\n  style: {\n    \"text-align\": \"right\",\n    \"margin-top\": \"12px\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ToggleSwitch = _resolveComponent(\"ToggleSwitch\");\n  const _component_NumberInput = _resolveComponent(\"NumberInput\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[5] || (_cache[5] = _createElementVNode(\"span\", null, \"开启p2p服务\", -1 /* CACHED */)), _createVNode(_component_ToggleSwitch, {\n    modelValue: $data.form.p2p_service_enabled,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.form.p2p_service_enabled = $event)\n  }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_4, [_cache[6] || (_cache[6] = _createElementVNode(\"span\", null, \"本地缓存上限(MB)\", -1 /* CACHED */)), _createVNode(_component_NumberInput, {\n    modelValue: $data.form.local_cache_limit,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.form.local_cache_limit = $event)\n  }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_5, [_cache[7] || (_cache[7] = _createElementVNode(\"span\", null, \"上传速度上限(KB/s)\", -1 /* CACHED */)), _createVNode(_component_NumberInput, {\n    modelValue: $data.form.upload_speed_limit,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.form.upload_speed_limit = $event)\n  }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_6, [_cache[8] || (_cache[8] = _createElementVNode(\"span\", null, \"多线程数量\", -1 /* CACHED */)), _createVNode(_component_NumberInput, {\n    modelValue: $data.form.thread_count,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.form.thread_count = $event),\n    integer: true\n  }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"button\", {\n    class: \"btn\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.save && $options.save(...args))\n  }, \"保存\")])])]);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_ToggleSwitch","$data","form","p2p_service_enabled","$event","_hoisted_4","_component_NumberInput","local_cache_limit","_hoisted_5","upload_speed_limit","_hoisted_6","thread_count","integer","_hoisted_7","onClick","_cache","args","$options","save"],"sources":["/home/cracken/project/p2p-video-accelerator/viewer/p2p-video-viewer/frontend/src/views/SettingsPage.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"card\">\n      <div class=\"row\"><span>开启p2p服务</span><ToggleSwitch v-model=\"form.p2p_service_enabled\" /></div>\n      <div class=\"row\"><span>本地缓存上限(MB)</span><NumberInput v-model=\"form.local_cache_limit\" /></div>\n      <div class=\"row\"><span>上传速度上限(KB/s)</span><NumberInput v-model=\"form.upload_speed_limit\" /></div>\n      <div class=\"row\"><span>多线程数量</span><NumberInput v-model=\"form.thread_count\" :integer=\"true\" /></div>\n      <div style=\"text-align:right; margin-top: 12px;\"><button class=\"btn\" @click=\"save\">保存</button></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ToggleSwitch from '@/components/ToggleSwitch.vue'\nimport NumberInput from '@/components/NumberInput.vue'\nimport { getSettings, updateSettings } from '@/services/settingsApi'\n\nexport default {\n  name: 'SettingsPage',\n  components: { ToggleSwitch, NumberInput },\n  data(){ return { form: { p2p_service_enabled: true, local_cache_limit: '', upload_speed_limit: '', thread_count: '' } } },\n  async mounted(){ this.form = await getSettings() },\n  methods: {\n    async save(){ this.form = await updateSettings(this.form) }\n  }\n}\n</script>\n\n<style scoped>\n.row { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--border-color) }\n.row span { color: #333 }\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAK;;EACXA,KAAK,EAAC;AAAK;;EACXA,KAAK,EAAC;AAAK;;EACXA,KAAK,EAAC;AAAK;;EACXC,KAA2C,EAA3C;IAAA;IAAA;EAAA;AAA2C;;;;uBANpDC,mBAAA,CAQM,OARNC,UAQM,GAPJC,mBAAA,CAMM,OANNC,UAMM,GALJD,mBAAA,CAA8F,OAA9FE,UAA8F,G,0BAA7EF,mBAAA,CAAoB,cAAd,SAAO,qBAAOG,YAAA,CAAmDC,uBAAA;gBAA5BC,KAAA,CAAAC,IAAI,CAACC,mBAAmB;+DAAxBF,KAAA,CAAAC,IAAI,CAACC,mBAAmB,GAAAC,MAAA;6CACpFR,mBAAA,CAA8F,OAA9FS,UAA8F,G,0BAA7ET,mBAAA,CAAuB,cAAjB,YAAU,qBAAOG,YAAA,CAAgDO,sBAAA;gBAA1BL,KAAA,CAAAC,IAAI,CAACK,iBAAiB;+DAAtBN,KAAA,CAAAC,IAAI,CAACK,iBAAiB,GAAAH,MAAA;6CACpFR,mBAAA,CAAiG,OAAjGY,UAAiG,G,0BAAhFZ,mBAAA,CAAyB,cAAnB,cAAY,qBAAOG,YAAA,CAAiDO,sBAAA;gBAA3BL,KAAA,CAAAC,IAAI,CAACO,kBAAkB;+DAAvBR,KAAA,CAAAC,IAAI,CAACO,kBAAkB,GAAAL,MAAA;6CACvFR,mBAAA,CAAoG,OAApGc,UAAoG,G,0BAAnFd,mBAAA,CAAkB,cAAZ,OAAK,qBAAOG,YAAA,CAA2DO,sBAAA;gBAArCL,KAAA,CAAAC,IAAI,CAACS,YAAY;+DAAjBV,KAAA,CAAAC,IAAI,CAACS,YAAY,GAAAP,MAAA;IAAGQ,OAAO,EAAE;6CACtFhB,mBAAA,CAAoG,OAApGiB,UAAoG,GAAnDjB,mBAAA,CAA6C;IAArCJ,KAAK,EAAC,KAAK;IAAEsB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAC,IAAA,IAAAF,IAAA,CAAI;KAAE,IAAE,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}