{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"card\",\n  style: {\n    \"padding\": \"16px\",\n    \"position\": \"sticky\",\n    \"top\": \"0\",\n    \"z-index\": \"1\"\n  }\n};\nconst _hoisted_3 = [\"onClick\"];\nconst _hoisted_4 = {\n  class: \"left\"\n};\nconst _hoisted_5 = {\n  class: \"title\"\n};\nconst _hoisted_6 = {\n  class: \"desc\"\n};\nconst _hoisted_7 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_SearchBar = _resolveComponent(\"SearchBar\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_SearchBar, {\n    placeholder: '输入关键字重新搜索',\n    onSearch: $options.doSearch\n  }, null, 8 /* PROPS */, [\"onSearch\"])]), _createElementVNode(\"div\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.results, item => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: item.rid,\n      class: \"card result-item\",\n      onClick: $event => $options.openVideo(item)\n    }, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, _toDisplayString(item.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_6, _toDisplayString(item.description), 1 /* TEXT */)]), _createElementVNode(\"img\", {\n      class: \"thumb\",\n      src: item.thumbnail_url,\n      alt: \"thumb\"\n    }, null, 8 /* PROPS */, _hoisted_7)], 8 /* PROPS */, _hoisted_3);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_SearchBar","placeholder","onSearch","$options","doSearch","_Fragment","_renderList","$data","results","item","key","rid","onClick","$event","openVideo","_hoisted_4","_hoisted_5","_toDisplayString","title","_hoisted_6","description","src","thumbnail_url","alt"],"sources":["/home/cracken/project/p2p-video-accelerator/viewer/p2p-video-viewer/frontend/src/views/SearchPage.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"card\" style=\"padding: 16px; position: sticky; top: 0; z-index: 1;\">\n      <SearchBar :placeholder=\"'输入关键字重新搜索'\" @search=\"doSearch\" />\n    </div>\n    <div>\n      <div v-for=\"item in results\" :key=\"item.rid\" class=\"card result-item\" @click=\"openVideo(item)\">\n        <div class=\"left\">\n          <div class=\"title\">{{ item.title }}</div>\n          <div class=\"desc\">{{ item.description }}</div>\n        </div>\n        <img class=\"thumb\" :src=\"item.thumbnail_url\" alt=\"thumb\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SearchBar from '@/components/SearchBar.vue'\nimport { search } from '@/services/searchApi'\nexport default {\n  name: 'SearchPage',\n  components: { SearchBar },\n  data(){ return { results: [] } },\n  mounted(){ this.doSearch(this.$route.query.query || '') },\n  methods: {\n    async doSearch(q){ this.results = await search(q) },\n    openVideo(item){ this.$router.push({ path: '/video', query: { rid: item.rid } }) }\n  }\n}\n</script>\n\n<style scoped>\n.result-item { display: flex; justify-content: space-between; align-items: center; cursor:pointer; }\n.result-item .left { flex: 1; padding-right: 16px; }\n.result-item .title { font-weight: bold; font-size: 18px; margin-bottom: 8px; }\n.result-item .desc { color: #666; }\n.result-item .thumb { width: 100px; height: 100px; object-fit: cover; border-radius: 8px; }\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC,MAAM;EAACC,KAA4D,EAA5D;IAAA;IAAA;IAAA;IAAA;EAAA;;;;EAKTD,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAO;;EACbA,KAAK,EAAC;AAAM;;;;uBARzBE,mBAAA,CAaM,OAbNC,UAaM,GAZJC,mBAAA,CAEM,OAFNC,UAEM,GADJC,YAAA,CAA2DC,oBAAA;IAA/CC,WAAW,EAAE,WAAW;IAAGC,QAAM,EAAEC,QAAA,CAAAC;2CAEjDP,mBAAA,CAQM,e,kBAPJF,mBAAA,CAMMU,SAAA,QAAAC,WAAA,CANcC,KAAA,CAAAC,OAAO,EAAfC,IAAI;yBAAhBd,mBAAA,CAMM;MANwBe,GAAG,EAAED,IAAI,CAACE,GAAG;MAAElB,KAAK,EAAC,kBAAkB;MAAEmB,OAAK,EAAAC,MAAA,IAAEV,QAAA,CAAAW,SAAS,CAACL,IAAI;QAC1FZ,mBAAA,CAGM,OAHNkB,UAGM,GAFJlB,mBAAA,CAAyC,OAAzCmB,UAAyC,EAAAC,gBAAA,CAAnBR,IAAI,CAACS,KAAK,kBAChCrB,mBAAA,CAA8C,OAA9CsB,UAA8C,EAAAF,gBAAA,CAAzBR,IAAI,CAACW,WAAW,iB,GAEvCvB,mBAAA,CAA2D;MAAtDJ,KAAK,EAAC,OAAO;MAAE4B,GAAG,EAAEZ,IAAI,CAACa,aAAa;MAAEC,GAAG,EAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}