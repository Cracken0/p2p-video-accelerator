{"ast":null,"code":"import SearchBar from '@/components/SearchBar.vue';\nimport { search } from '@/services/searchApi';\nexport default {\n  name: 'SearchPage',\n  components: {\n    SearchBar\n  },\n  data() {\n    return {\n      results: []\n    };\n  },\n  mounted() {\n    this.doSearch(this.$route.query.query || '');\n  },\n  methods: {\n    async doSearch(q) {\n      this.results = await search(q);\n    },\n    openVideo(item) {\n      this.$router.push({\n        path: '/video',\n        query: {\n          rid: item.rid\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["SearchBar","search","name","components","data","results","mounted","doSearch","$route","query","methods","q","openVideo","item","$router","push","path","rid"],"sources":["/home/cracken/project/p2p-video-accelerator/viewer/p2p-video-viewer/frontend/src/views/SearchPage.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"card\" style=\"padding: 16px; position: sticky; top: 0; z-index: 1;\">\n      <SearchBar :placeholder=\"'输入关键字重新搜索'\" @search=\"doSearch\" />\n    </div>\n    <div>\n      <div v-for=\"item in results\" :key=\"item.rid\" class=\"card result-item\" @click=\"openVideo(item)\">\n        <div class=\"left\">\n          <div class=\"title\">{{ item.title }}</div>\n          <div class=\"desc\">{{ item.description }}</div>\n        </div>\n        <img class=\"thumb\" :src=\"item.thumbnail_url\" alt=\"thumb\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SearchBar from '@/components/SearchBar.vue'\nimport { search } from '@/services/searchApi'\nexport default {\n  name: 'SearchPage',\n  components: { SearchBar },\n  data(){ return { results: [] } },\n  mounted(){ this.doSearch(this.$route.query.query || '') },\n  methods: {\n    async doSearch(q){ this.results = await search(q) },\n    openVideo(item){ this.$router.push({ path: '/video', query: { rid: item.rid } }) }\n  }\n}\n</script>\n\n<style scoped>\n.result-item { display: flex; justify-content: space-between; align-items: center; cursor:pointer; }\n.result-item .left { flex: 1; padding-right: 16px; }\n.result-item .title { font-weight: bold; font-size: 18px; margin-bottom: 8px; }\n.result-item .desc { color: #666; }\n.result-item .thumb { width: 100px; height: 100px; object-fit: cover; border-radius: 8px; }\n</style>\n"],"mappings":"AAkBA,OAAOA,SAAQ,MAAO,4BAA2B;AACjD,SAASC,MAAK,QAAS,sBAAqB;AAC5C,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,UAAU,EAAE;IAAEH;EAAU,CAAC;EACzBI,IAAIA,CAAA,EAAE;IAAE,OAAO;MAAEC,OAAO,EAAE;IAAG;EAAE,CAAC;EAChCC,OAAOA,CAAA,EAAE;IAAE,IAAI,CAACC,QAAQ,CAAC,IAAI,CAACC,MAAM,CAACC,KAAK,CAACA,KAAI,IAAK,EAAE;EAAE,CAAC;EACzDC,OAAO,EAAE;IACP,MAAMH,QAAQA,CAACI,CAAC,EAAC;MAAE,IAAI,CAACN,OAAM,GAAI,MAAMJ,MAAM,CAACU,CAAC;IAAE,CAAC;IACnDC,SAASA,CAACC,IAAI,EAAC;MAAE,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;QAAEC,IAAI,EAAE,QAAQ;QAAEP,KAAK,EAAE;UAAEQ,GAAG,EAAEJ,IAAI,CAACI;QAAI;MAAE,CAAC;IAAE;EACnF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}